# ğŸš€ LangGraph MarketPulse
**AI-Powered Market Intelligence Platform**

ğŸŒ **See the Live Application**: [https://ai-market-pulse-overview.vercel.app/](https://ai-market-pulse-overview.vercel.app/)

> **Transform noisy market headlines into clear, actionable intelligence. Autonomous LangGraph agents orchestrate news aggregation, entity enrichment, and thematic clustering to deliver structured Market Pulse Reports in seconds.** âš¡

---

## âœ¨ Features

### ğŸ¯ **Core Intelligence**
- ğŸ¤– **Autonomous Agent Orchestration** - LangGraph-powered multi-step pipeline that fetches, analyzes, and structures market intelligence
- ğŸ“° **Real-Time News Aggregation** - NewsAPI integration with intelligent caching for 120+ global news sources
- ğŸ§  **Entity Recognition & Enrichment** - Automatic extraction and Wikipedia enrichment of key players, companies, and locations
- ğŸ“Š **Thematic Clustering** - AI-powered article clustering to identify market narratives and trends
- ğŸ’¡ **Sentiment Analysis** - Real-time market sentiment detection (bullish/bearish/neutral) with visual gauges

### ğŸ¨ **Modern UI/UX (2025 Standards)**
- âœ¨ **Glassmorphic Design** - Modern glassmorphism effects with backdrop blur and gradient overlays
- ğŸ¬ **Dynamic Video Backgrounds** - Theme-aware hero videos that adapt to light/dark mode
- ğŸŒ™ **Dark Mode First** - Polished dark theme with smooth transitions and semantic color tokens
- ğŸ“± **Fully Responsive** - Mobile-optimized with bottom navigation, touch-friendly targets (44px+), and adaptive layouts
- ğŸ­ **Micro-Interactions** - Staggered animations, loading skeletons, and smooth state transitions
- â™¿ **Accessible** - WCAG AA compliant with keyboard navigation and screen reader support

### ğŸš€ **Advanced Capabilities**
- ğŸ¯ **Live Agent Trace** - Real-time visualization of LangGraph node execution (parse â†’ fetch â†’ enrich â†’ cluster â†’ summarize)
- ğŸ“ˆ **Executive Summaries** - GPT-4.1-mini generated insights with forward-looking implications
- ğŸ’¬ **AI Follow-up Questions** - Context-aware questions generated by OpenAI to guide deeper analysis
- ğŸ¤ **Voice Input** - Web Speech API integration for hands-free query input
- ğŸ“„ **Export & Share** - Download reports as Markdown or share via social links
- ğŸ“š **Job History** - Persistent query history with Supabase PostgreSQL integration
- âŒ¨ï¸ **Keyboard Shortcuts** - Power user features (âŒ˜K focus, âŒ˜Enter submit, Esc clear)

### ğŸ”„ **Real-Time Processing**
- âš¡ **Background Job System** - Non-blocking FastAPI background tasks with Redis state management
- ğŸ“Š **Live Status Updates** - Real-time job polling with step-by-step progress visualization
- ğŸ’¾ **Dual Storage** - Redis for real-time state, Supabase for persistent history
- ğŸ” **Intelligent Caching** - Upstash Redis caching for NewsAPI and Wikipedia responses

---

## ğŸ—ï¸ Tech Stack

### **Backend** ğŸ
- **FastAPI** - Modern async Python web framework with automatic OpenAPI docs
- **LangGraph** - Multi-agent orchestration framework for complex workflows
- **LangChain** - LLM integration and prompt management
- **OpenAI GPT-4.1-mini** - Cost-effective AI for summaries and follow-up questions
- **Python 3.11+** - Latest async/await patterns and type hints
- **Pydantic v2** - Data validation and serialization
- **httpx** - Async HTTP client for external APIs

### **Frontend** âš›ï¸
- **Next.js 15** - React 19.2 with App Router and Server Components
- **React 19.2** - Latest React features with concurrent rendering
- **TypeScript** - Full type safety across the application
- **Tailwind CSS** - Utility-first styling with custom design tokens
- **shadcn/ui** - Accessible component library built on Radix UI
- **next-themes** - Theme management with SSR support
- **Lucide Icons** - Modern icon system

### **Database & Cache** ğŸ’¾
- **Supabase** - PostgreSQL with custom schema (`marketpulse`) for persistent storage
- **Upstash Redis** - Serverless Redis for job state and API response caching
- **Service Role Auth** - Secure backend access with RLS bypass

### **External APIs** ğŸ”Œ
- **NewsAPI** - Global news aggregation from 120+ sources
- **Wikipedia REST API** - Entity enrichment with article summaries
- **OpenAI API** - GPT-4.1-mini for executive summaries and follow-up questions

### **Deployment** ğŸš€
- **Vercel** - Frontend deployment with edge functions
- **Railway** - Backend API deployment with automatic scaling
- **Monorepo Architecture** - Separate services with shared configuration

---

## ğŸ¯ Key Highlights

### **Agent Orchestration**
The application demonstrates sophisticated multi-agent workflows using LangGraph:

```
User Query â†’ Parse Query â†’ Fetch News â†’ Extract Entities â†’ 
Enrich Entities â†’ Cluster Articles â†’ Summarize Themes â†’ Compose Report
```

Each step is visualized in real-time, showcasing transparent AI reasoning.

### **Modern Full-Stack Architecture**
- **Type-Safe API Contracts** - Pydantic models ensure data integrity
- **Async/Await Throughout** - Non-blocking I/O for optimal performance
- **State Management** - Redis for ephemeral state, Supabase for persistence
- **Error Handling** - Comprehensive error handling with graceful fallbacks

### **Production-Ready Features**
- **Health Checks** - `/health` and `/health/openai` endpoints for monitoring
- **CORS Configuration** - Proper cross-origin setup for Vercel + Railway
- **Environment Management** - Secure secret handling with `.env.example`
- **Database Migrations** - SQL schema with indexes and triggers
- **Mobile Optimization** - Touch targets, viewport handling, responsive layouts

---

## ğŸ“¸ Application Flow

### ğŸ  Landing Page
Dynamic hero section with theme-aware video backgrounds, glassmorphic text overlays, and clear value proposition. Stats showcase the platform's capabilities (120+ sources, multi-hop clustering, ~4s latency).

### ğŸ® Agent Playground
Interactive chat interface where users query the LangGraph agent. Features include:
- **Real-time trace visualization** - Watch the agent execute each step
- **Topic suggestions** - Pre-built chips for quick exploration
- **Voice input** - Speak queries instead of typing
- **Loading skeletons** - Modern shimmer effects during processing
- **Mobile insight drawer** - Access trace, entities, and sources on mobile

### ğŸ“Š Market Pulse Reports
Structured reports featuring:
- **Executive Summary** - AI-generated insights with forward-looking statements
- **Thematic Clusters** - Grouped articles by narrative themes
- **Key Players** - Entities with Wikipedia enrichments
- **Sentiment Gauge** - Visual representation of market sentiment
- **Top Stories** - Curated news articles with sources
- **Follow-up Questions** - AI-suggested next queries

### ğŸ“ˆ Dashboard
Overview page with metrics, theme clusters grid, and live feed panel. Demonstrates data visualization and information architecture.

---

## ğŸ› ï¸ Technical Implementation

### **LangGraph Pipeline**
```python
# Multi-step agent workflow
parse_query â†’ fetch_news â†’ extract_entities â†’ 
enrich_entities â†’ cluster_articles â†’ summarize_clusters â†’ compose_report
```

Each node is a discrete function that transforms state, enabling:
- **Modularity** - Easy to test and modify individual steps
- **Observability** - Real-time step tracking for debugging
- **Scalability** - Can parallelize independent steps

### **State Management**
- **Redis** - Job state with TTL (1 hour) for real-time polling
- **Supabase** - Persistent storage for messages and job history
- **Dual Strategy** - Fast reads from Redis, durable writes to PostgreSQL

### **Caching Strategy**
- **NewsAPI** - Cache keyed by topic + date range (MD5 hash)
- **Wikipedia** - Cache keyed by entity name (MD5 hash)
- **TTL** - 1 hour for news, 24 hours for Wikipedia summaries
- **Fallback** - In-memory cache if Redis unavailable

### **Error Handling**
- **Graceful Degradation** - App works without OpenAI (fallback summaries)
- **Retry Logic** - HTTP timeouts and retries for external APIs
- **Comprehensive Logging** - Structured logs with context
- **User Feedback** - Clear error messages in UI

---

## ğŸ“– User Guide

### ğŸ® Using the Playground

1. **Enter a Query**
   - Type a market topic: *"NVIDIA stock performance"*
   - Or use voice input: Click microphone button
   - Or select from topic suggestions

2. **Watch the Agent Work**
   - Real-time trace shows each step executing
   - Loading skeleton displays report structure
   - Progress updates every second

3. **Explore the Report**
   - Read executive summary for key insights
   - Browse thematic clusters to understand narratives
   - Expand entity cards for Wikipedia summaries
   - Review top stories with source links

4. **Dive Deeper**
   - Click follow-up questions to explore related topics
   - Export report as Markdown
   - Share report link with others
   - View job history to revisit past queries

### âŒ¨ï¸ Keyboard Shortcuts

- `âŒ˜/Ctrl + K` - Focus input field
- `âŒ˜/Ctrl + Enter` - Submit query
- `Esc` - Clear input

### ğŸ“± Mobile Experience

- **Bottom Navigation** - Quick access to Dashboard, Playground, Reports
- **Insight Drawer** - Swipe up to view agent trace and entities
- **Touch-Optimized** - All buttons meet 44px minimum touch target
- **Responsive Layouts** - Adaptive grids and flexible typography

---

## ğŸš€ Getting Started

### Prerequisites

- **Node.js 18+** and npm/pnpm
- **Python 3.11+**
- **Supabase** account and project
- **Upstash Redis** instance
- **NewsAPI** API key ([get one here](https://newsapi.org/))
- **OpenAI** API key ([get one here](https://platform.openai.com/))

---

## ğŸ¨ Design System

The application uses a comprehensive design system with:

- **Semantic Color Tokens** - CSS variables for light/dark themes
- **Consistent Spacing** - Modular scale (4px base unit)
- **Typography** - Inter font family with responsive sizing
- **Border Radius** - Consistent rounded corners (lg: 0.9rem, xl: 1.25rem)
- **Animations** - Smooth transitions with `animate-in` utilities

See `DESIGN_SYSTEM.md` for complete design specifications.

---

## ğŸ”’ Security & Best Practices

- **Environment Variables** - All secrets stored in `.env` (never committed)
- **CORS Configuration** - Whitelisted origins for production
- **Input Validation** - Pydantic models validate all API inputs
- **SQL Injection Prevention** - Parameterized queries via Supabase client
- **Rate Limiting** - Redis-based rate limiting (ready for implementation)
- **Error Sanitization** - Sensitive data excluded from error messages

---


## ğŸ›£ï¸ Roadmap

All 14 enhancement features have been completed:

âœ… **Visual Polish** - Live trace, animations, topic suggestions, sentiment gauge, entity cards  
âœ… **AI Integration** - Follow-up questions, executive summaries  
âœ… **UX Features** - Voice input, export, job history  
âœ… **Database** - Supabase persistence  
âœ… **Polish** - Keyboard shortcuts, loading skeletons, share links  
âœ… **Mobile** - Full mobile optimization (10/10 readiness score)

---

## ğŸ‘¨â€ğŸ’» Creator

**Created by Derril Filemon**

- ğŸŒ **Portfolio**: [GitHub](https://github.com/derril-tech)
- ğŸ’¼ **LinkedIn**: Available upon request

---

## ğŸ™ Acknowledgments

- **OpenAI** - For GPT-4.1-mini API and LangChain integration
- **LangGraph** - For powerful agent orchestration framework
- **Supabase** - For PostgreSQL database and excellent developer experience
- **Upstash** - For serverless Redis caching
- **Railway** - For seamless backend deployment
- **Vercel** - For Next.js hosting and edge functions
- **shadcn/ui** - For beautiful, accessible components
- **NewsAPI** - For comprehensive news aggregation
- **Wikipedia** - For entity enrichment data

---

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

<div align="center">

Made with â¤ï¸ and â˜• by [Derril Filemon](https://github.com/derril-tech)

**Live Demo**: [https://ai-market-pulse-overview.vercel.app/](https://ai-market-pulse-overview.vercel.app/)

</div>
